stages:
  - build-and-test

build-and-test:
  stage: build-and-test
  image: eclipse-temurin:21.0.2_13-jdk
  script:
    - chmod +x ./gradlew
    - ./gradlew build
  artifacts:
    when: always
    paths:
      - build/reports/
  only:
    - main
